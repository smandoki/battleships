(()=>{"use strict";function t(e){const r=[];return e.forEach((e=>{Array.isArray(e)?r.push(t(e)):r.push(e)})),r}class e{#t=0;#e;constructor(t){this.#e=t}hit(){this.isSunk()||this.#t++}isSunk(){return this.#t===this.#e}getLength(){return this.#e}getHitCount(){return this.#t}}class r{#r={};#n;#i=0;constructor(){this.#n=function(t,e){const r=new Array(7);for(let t=0;t<7;t++)r[t]=new Array(7);return r}()}addShip(t,r,n,i){const s=new e(n);for(let e=0;e<n;e++)"row"===i?this.#n[t+e][r]=this.#i:this.#n[t][r+e]=this.#i;this.#r[this.#i++]=s}receiveAttack(t,e){void 0===this.#n[t][e]?this.#n[t][e]="miss":(this.#r[this.#n[t][e]].hit(),this.#n[t][e]="hit")}isValidPlacement(t,e,r,n){for(let i=0;i<r;i++)if("row"===n){if(!this.#s(t+i,e))return!1}else if(!this.#s(t,e+i))return!1;return!0}#s(t,e){return t>=0&&t<7&&e>=0&&e<7&&void 0===this.#n[t][e]}isAllShipsSunk(){if(0===Object.keys(this.#r).length)return!1;for(const[t,e]of Object.entries(this.#r))if(!e.isSunk())return!1;return!0}getBoard(){return t(this.#n)}}const n=function(){const t=["Place your carrier (length: 5)","Place your battleship (length: 4)","Place your cruiser (length: 3)","Place your submarine (length: 3)","Place your destroyer (length: 2)"];new r;let e="row";function n(){e="row"===e?"col":"row"}return{init:function(e){const r=document.createElement("div");r.setAttribute("id","shipPlacementPage");const i=document.createElement("h2");i.innerText=t.shift(),r.appendChild(i);const s=document.createElement("button");s.innerText="Change ship direction",s.addEventListener("click",n),r.append(s);const o=document.createElement("div");o.classList.add("grid"),o.style.gridTemplateColumns="repeat(7, 1fr)",o.style.gridTemplateRows="repeat(7, 1fr)";for(let t=0;t<49;t++){const t=document.createElement("div");t.classList.add("cell"),o.appendChild(t)}r.appendChild(o),e.appendChild(r)}}}(),i=n,s=document.getElementById("root");i.init(s)})();