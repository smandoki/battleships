(()=>{"use strict";function t(e){const i=[];return e.forEach((e=>{Array.isArray(e)?i.push(t(e)):i.push(e)})),i}class e{#t=0;#e;constructor(t){this.#e=t}hit(){this.isSunk()||this.#t++}isSunk(){return this.#t===this.#e}getLength(){return this.#e}getHitCount(){return this.#t}}class i{#i={};#r;#s=0;constructor(){this.#r=function(t,e){const i=new Array(7);for(let t=0;t<7;t++)i[t]=new Array(7);return i}()}addShip(t,i,r,s){const n=new e(r);for(let e=0;e<r;e++)"row"===s?this.#r[t+e][i]=this.#s:this.#r[t][i+e]=this.#s;this.#i[this.#s++]=n}receiveAttack(t,e){void 0===this.#r[t][e]?this.#r[t][e]="miss":(this.#i[this.#r[t][e]].hit(),this.#r[t][e]="hit")}isValidPlacement(t,e,i,r){for(let s=0;s<i;s++)if("row"===r){if(!this.#n(t+s,e))return!1}else if(!this.#n(t,e+s))return!1;return!0}#n(t,e){return t>=0&&t<7&&e>=0&&e<7&&void 0===this.#r[t][e]}isAllShipsSunk(){if(0===Object.keys(this.#i).length)return!1;for(const[t,e]of Object.entries(this.#i))if(!e.isSunk())return!1;return!0}getBoard(){return t(this.#r)}}const r=function(){const t=["Place your carrier (length: 5)","Place your battleship (length: 4)","Place your cruiser (length: 3)","Place your submarine (length: 3)","Place your destroyer (length: 2)"];return new i,{init:function(e){const i=document.createElement("div");i.setAttribute("id","shipPlacementPage");const r=document.createElement("h2");r.innerText=t.shift(),i.appendChild(r);const s=document.createElement("div");s.classList.add("grid");for(let t=0;t<49;t++){const t=document.createElement("div");t.classList.add("cell"),s.appendChild(t)}i.appendChild(s),e.appendChild(i)}}}(),s=r,n=document.getElementById("root");s.init(n)})();